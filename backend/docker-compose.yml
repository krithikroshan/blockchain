version: '3.8'

services:

  # redis:
  #   image: redis:6-alpine

  app:
    build: . #path to the root project folder
    command: python manage.py runserver 0.0.0.0:80
    volumes:
      - .:/django
    ports:
      - 80:80 # sets the port that maps to internal port in docker container
    # depends_on:
    #   - redis

  # celery:
  #   restart: always
  #   build:
  #     context: .
  #   command: celery -A backend worker -l INFO # Command used to start the Celery worker in the Docker container
  #   volumes:
  #     - .:/django
  #   depends_on: 
  #     - redis
  #     - app